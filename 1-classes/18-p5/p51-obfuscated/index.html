<!DOCTYPE html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
<style>body{margin:0;overflow:hidden}canvas{display:block}</style>
</head>
<body>
<script>
        let t = 0, w;

    function setup() {
    createCanvas(windowWidth, windowHeight);
    background(6);
    noStroke();
    }

    function draw() {
    t += PI / 120;
    let cols = floor(width / 30f); // Ajustar columnas al ancho de la pantalla
    for (let i = 4e4; i--;) a(i % cols - cols / 2, ~~(i / cols) - height / 16); // Centrar en X e Y
    }

    function a(x, y) {
    let k = x / 8, // Simplificar k y centrar din√°micamente
        e = y / 8,
        o = mag(k, e),
        d = 0.5 + 5 * cos(o * o / 169),
        s = (d * sin(k) * sin(t * 4 + e)) ** 2 * w;

    // Cambiar el color de grises a blanco basado en tiempo
    let colorShift = map(sin(t * 0.5), -1, 1, 50, 255); 
    stroke(colorShift);

    point(
        x + d * k * sin(d * 2 + o + t) + e * cos(e + t) + width / 2, // Centrar X
        o * 135 - y / 4 - d * 6 * cos(d * 3 + o * 9 + t) + height / 2 // Centrar Y
    );
    }

    function keyPressed() {
    if (key == 'f' || key == 'F') fullscreen(!fullscreen());
    }

    function windowResized() {
    resizeCanvas(windowWidth, windowHeight);
    background(0);
    }

</script>
</body>
</html>